(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"04e7":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",[a("q-page-container",[a("q-page",{staticClass:"flex bg-image flex-center"},[a("q-card",{style:e.$q.screen.lt.sm?{width:"80%"}:{width:"30%"}},[a("q-card-section",[a("div",{staticClass:"text-center q-pt-lg"},[a("div",{staticClass:"col text-h8 ellipsis"},[e._v("\n              송아리에 처음 방문 하셨습니다. "),a("br"),e._v("\n              간단히 기본정보를 등록해야  "),a("br"),e._v("\n              서비스 이용이 가능합니다. \n            ")])])]),a("q-card-section",[a("q-form",{staticClass:"q-gutter-md"},[a("q-input",{attrs:{filled:"",label:"사용자이름","lazy-rules":""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("div",{staticClass:"q-gutter-sm"},[a("q-radio",{attrs:{val:"M",label:"남"},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}}),a("q-radio",{attrs:{val:"F",label:"여"},model:{value:e.sex,callback:function(t){e.sex=t},expression:"sex"}})],1),a("q-input",{attrs:{filled:"",label:"생년월일","input-class":"text-center"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-btn",{attrs:{icon:"event",round:"",color:"primary"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"},on:{"before-show":e.updateProxy}},[a("q-date",{model:{value:e.proxyBirth,callback:function(t){e.proxyBirth=t},expression:"proxyBirth"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cancel",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"OK",color:"primary",flat:""},on:{click:e.save}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.birth,callback:function(t){e.birth=t},expression:"birth"}}),a("q-input",{attrs:{filled:"","bottom-slots":"",label:"무게",type:"number",counter:"",maxlength:"3","input-class":"text-center"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"remove"},on:{click:e.weightMinus}})]},proxy:!0},{key:"append",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:e.weightAdd}})]},proxy:!0}]),model:{value:e.bodyWeight,callback:function(t){e.bodyWeight=t},expression:"bodyWeight"}}),a("div",[a("q-btn",{staticClass:"full-width",attrs:{label:"시작하기",type:"button",color:"primary"},on:{click:e.saveUserInfo}})],1)],1)],1)],1)],1)],1)],1)},i=[],o=(a("e6cf"),a("bd4c")),r=(a("5ad2"),{data(){return{username:"송아리",sex:"M",birth:o["b"].formatDate(new Date,"YYYY/MM/DD"),bodyWeight:50,proxyBirth:o["b"].formatDate(new Date,"YYYY/MM/DD"),userInfo:{}}},methods:{updateProxy(){this.proxyBirth=this.birth},save(){this.birth=this.proxyBirth},weightAdd(){this.bodyWeight=this.bodyWeight+1},weightMinus(){this.bodyWeight=this.bodyWeight-1},async saveUserInfo(){const e=o["b"].formatDate(new Date,"YYYY-MM-DD"),t={email:this.$store.state.auth.email,name:this.username,sex:this.sex,birth:this.birth},a={email:this.$store.state.auth.email,weight:this.bodyWeight};try{const s=await this.$firebase.firestore().collection("users"),i=await s.where("email","==",this.$store.state.auth.email).get();if(i.empty){console.log("No matching documents.");await this.$firebase.firestore().collection("users").doc(this.$store.state.auth.email).set(t),await this.$firebase.firestore().collection(this.$store.state.auth.email).doc(e).set(a)}else console.log("이미 정보가 존재함");this.$router.push("/home")}catch(s){console.log("data 생성 실패")}}},beforeCreate:async function(){}}),n=r,l=(a("f41f"),a("2877")),c=a("4d5a"),u=a("09e3"),d=a("9989"),h=a("f09f"),p=a("a370"),b=a("cb32"),f=a("0378"),m=a("27f9"),y=a("3786"),x=a("9c40"),g=a("7cbe"),v=a("52ee"),w=a("7f67"),q=a("eebe"),k=a.n(q),C=Object(l["a"])(n,s,i,!1,null,null,null);t["default"]=C.exports;k()(C,"components",{QLayout:c["a"],QPageContainer:u["a"],QPage:d["a"],QCard:h["a"],QCardSection:p["a"],QAvatar:b["a"],QForm:f["a"],QInput:m["a"],QRadio:y["a"],QBtn:x["a"],QPopupProxy:g["a"],QDate:v["a"]}),k()(C,"directives",{ClosePopup:w["a"]})},a055:function(e,t,a){},f41f:function(e,t,a){"use strict";a("a055")}}]);