(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd3","./sv.js":"5fbd3","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="4678"},fba3:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-pa-md"},[a("div",{staticStyle:{"max-width":"600px"}},[a("q-tabs",{staticClass:"q-mb-lg bg-grey-3",attrs:{align:"justify","narrow-indicator":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab",{staticClass:"text-purple",attrs:{name:"diary",label:"My다이어리"}}),a("q-tab",{staticClass:"text-orange",attrs:{name:"analysis",label:"다이어트분석"}}),a("q-tab",{staticClass:"text-teal",attrs:{name:"record",label:"상담기록"}})],1),a("div",{staticClass:"q-gutter-y-sm"},[a("q-tab-panels",{attrs:{animated:"","transition-prev":"fade","transition-next":"fade"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("q-tab-panel",{staticClass:"bg-purple text-white text-center",attrs:{name:"diary"}},[a("Diet")],1),a("q-tab-panel",{staticClass:"bg-orange text-white text-center",attrs:{name:"analysis"}},[a("DietAnalysis",{attrs:{diet:t.chartData}})],1),a("q-tab-panel",{staticClass:"bg-teal text-white text-center",attrs:{name:"record"}},[a("Counselor",{attrs:{diet:t.chartData}})],1)],1)],1)],1)])},i=[],r=(a("26e9"),a("fb6a"),a("4e82"),a("e6cf"),a("a79d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-sm"},[a("div",{staticStyle:{"max-width":"800px",width:"100%"}},[a("q-toolbar",{staticClass:"text-primary row justify-between items-center"},[a("q-btn",{attrs:{color:"primary",flat:"",label:"이전"},on:{click:t.onPrev}}),a("div",{staticClass:"col-4",staticStyle:{"text-align":"center"}},[t._v("\n          "+t._s(t.title)+"\n          ")]),a("q-btn",{attrs:{color:"primary",flat:"",label:"다음"},on:{click:t.onNext}})],1),a("q-calendar",{ref:"calendar",attrs:{view:"month",locale:"en-us","day-height":50},on:{change:t.onChange},scopedSlots:t._u([{key:"day",fn:function(e){var s=e.timestamp;return[t._l(t.getEvents(s.date),(function(e,s){return[a("q-badge",{key:s,class:t.badgeClasses(e,"day"),staticStyle:{width:"100%",cursor:"pointer",height:"16px","max-height":"16px"},style:t.badgeStyles(e,"day")},[e.icon?a("q-icon",{staticClass:"q-mr-xs",attrs:{name:e.icon}}):t._e(),a("span",{staticClass:"ellipsis",on:{click:function(a){return t.msg(e.details)}}},[t._v(t._s(e.title))])],1)]}))]}}]),model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1),a("span",[t._v("일정 내용")]),a("q-card",{staticClass:"my-card",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("경희명 한의원")])]),a("q-card-section",{staticClass:"q-pt-none"},[t._v("\n      "+t._s(t.comment)+"\n    ")])],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.promptWeight,callback:function(e){t.promptWeight=e},expression:"promptWeight"}},[a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("체중 입력")]),a("q-input",{attrs:{filled:"",label:"측정일자","input-class":"text-center"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-btn",{attrs:{icon:"event",round:"",color:"primary"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"},on:{"before-show":t.updateProxy}},[a("q-date",{model:{value:t.proxyWeightdate,callback:function(e){t.proxyWeightdate=e},expression:"proxyWeightdate"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"취소",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"선택",color:"primary",flat:""},on:{click:t.save}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.weightdate,callback:function(e){t.weightdate=e},expression:"weightdate"}})],1),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{attrs:{filled:"","bottom-slots":"",label:"무게",type:"number",counter:"",maxlength:"3","input-class":"text-center"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"remove"},on:{click:t.weightMinus}})]},proxy:!0},{key:"append",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:t.weightAdd}})]},proxy:!0}]),model:{value:t.bodyWeight,callback:function(e){t.bodyWeight=e},expression:"bodyWeight"}})],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"취소"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"저장"},on:{click:t.saveUserInfo}})],1)],1)],1),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{fab:"",icon:"monitor_weight",color:"accent"},on:{click:function(e){t.promptWeight=!0}}})],1)],1)}),o=[],n=(a("5319"),a("5ad2")),l=a("bd4c"),d=a("fe7a");const c=new Date;function h(t){const e=new Date(c);e.setDate(t);const a=d["a"].parseDate(e);return a.date}const p=/^\s*rgb(a)?\s*\((\s*(\d+)\s*,\s*?){2}(\d+)\s*,?\s*([01]?\.?\d*?)?\s*\)\s*$/;function u(t){if("string"!==typeof t)throw new TypeError("Expected a string");const e=p.exec(t);if(e){const t={r:Math.min(255,parseInt(e[2],10)),g:Math.min(255,parseInt(e[3],10)),b:Math.min(255,parseInt(e[4],10))};return e[1]&&(t.a=Math.min(1,parseFloat(e[5]))),t}return b(t)}function b(t){if("string"!==typeof t)throw new TypeError("Expected a string");t=t.replace(/^#/,""),3===t.length?t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:4===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return t.length>6?{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:Math.round((255&e)/2.55)}:{r:e>>16,g:e>>8&255,b:255&e}}function g(t){if("string"!==typeof t&&(!t||void 0===t.r))throw new TypeError("Expected a string or a {r, g, b} object as color");const e="string"===typeof t?u(t):t,a=e.r/255,s=e.g/255,i=e.b/255,r=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),o=s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4),n=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4);return.2126*r+.7152*o+.0722*n}var f={name:"Diet",components:{CardCharts:()=>Promise.all([a.e(0),a.e(15)]).then(a.bind(null,"1b5d"))},data(){return{weightdate:l["b"].formatDate(new Date,"YYYY/MM/DD"),proxyWeightdate:l["b"].formatDate(new Date,"YYYY/MM/DD"),autoplay:!0,promptWeight:!1,bodyWeight:50,userInfo:{},userWeight:[],locale:"ko-kr",shortWeekdayLabel:!1,shortMonthLabel:!1,prompt:!1,dateFormatter:void 0,start:void 0,bodyweight:0,title:"",comment:"따뜻한 마음으로 진료 합니다.",selectedDate:"",today:h(17),events:[{title:"운동 시작",details:"경희명 한의원에서 상담 받고 운동 시작",date:h(1),bgcolor:"orange"},{title:"약처방(다이어트한약)",details:"체질 개선 및 식욕 억제를 위한 한약 복욕 시작",date:h(4),bgcolor:"green",icon:"fas fa-birthday-cake"},{title:"운동 시작",details:"근력 운동 및 요가",date:h(8),time:"10:00",duration:120,bgcolor:"red",icon:"fas fa-handshake"},{title:"Lunch",details:"Company is paying!",date:h(8),time:"11:30",duration:90,bgcolor:"teal",icon:"fas fa-hamburger"},{title:"휴식",details:"집에서 하루 종일 휴식....",date:h(20),time:"17:00",duration:90,bgcolor:"blue-grey",icon:"fas fa-car"},{title:"상담",details:"2번째 체질 개선 상황 상담",date:h(15),time:"08:00",duration:540,bgcolor:"blue",icon:"fas fa-chalkboard-teacher"},{title:"Girlfriend",details:"Meet GF for dinner at Swanky Restaurant",date:h(15),time:"19:00",duration:180,bgcolor:"teal",icon:"fas fa-utensils"},{title:"체중(67kg)",details:"체중 2kg 감량",date:h(10),bgcolor:"purple",icon:"rowing"},{title:"체중(65kg)",details:"체중 4kg 감량",date:h(16),bgcolor:"purple",icon:"rowing"},{title:"체중(60kg)",details:"체중 6kg 감량",date:h(19),bgcolor:"purple",icon:"rowing"},{title:"상담(한의사)",details:"피해야 할 음식과 먹어야 할 음식 확인",date:h(22),bgcolor:"purple",icon:"fas fa-plane"}]}},watch:{locale(){this.updateFormatter(),this.updateTitle()}},beforeMount(){this.updateFormatter()},beforeCreate:async function(){this.indexdb=new n["a"]("user-metadata","metadata");try{this.userInfo=await this.indexdb.get("userInfo")}catch(t){console.error("failed to qusry the userInfo",t)}"undefined"===typeof this.userInfo&&this.$router.push("/")},methods:{updateProxy(){this.proxyWeightdate=this.weightdate},save(){this.weightdate=this.proxyWeightdate},weightAdd(){this.bodyWeight=this.bodyWeight+1},weightMinus(){this.bodyWeight=this.bodyWeight-1},async saveUserInfo(){try{this.userWeight=await this.indexdb.get("userWeight")}catch(a){console.error("failed to qusry the userWeight",a)}const t={weightdate:this.weightdate,weight:this.bodyWeight,date:new Date},e=this.userWeight;e.push(t);try{this.indexdb.store("userWeight",e)}catch(a){console.error("failed to save the userweight",a)}},updateFormatter(){try{this.dateFormatter=new Intl.DateTimeFormat(this.locale||void 0,{month:this.shortMonthLabel?"short":"long",year:"numeric",timeZone:"UTC"})}catch(t){this.dateFormatter=void 0}},updateTitle(){const t=d["a"].makeDate(this.start);void 0!==this.dateFormatter&&(this.title=this.dateFormatter.format(t))},onChange({start:t}){this.start=t,this.updateTitle()},onPrev(){this.$refs.calendar.prev()},onNext(){this.$refs.calendar.next()},msg(t){this.comment=t},isCssColor(t){return!!t&&!!t.match(/^(#|(rgb|hsl)a?\()/)},badgeClasses(t,e){const a=this.isCssColor(t.bgcolor),s="header"===e;return{[`text-white bg-${t.bgcolor}`]:!a,"full-width":!s&&(!t.side||"full"===t.side),"left-side":!s&&"left"===t.side,"right-side":!s&&"right"===t.side}},badgeStyles(t,e,a,s){const i={};return this.isCssColor(t.bgcolor)&&(i["background-color"]=t.bgcolor,i.color=g(t.bgcolor)>.5?"black":"white"),a&&(i.top=a(t.time)+"px"),s&&(i.height=s(t.duration)+"px"),i["align-items"]="flex-start",i},getEvents(t){const e=d["a"].parseTimestamp(t),a=[];for(let s=0;s<this.events.length;++s){let i=!1;if(this.events[s].date===t){if(this.events[s].time&&a.length>0){const t=d["a"].parseTimestamp(this.events[s].date+" "+this.events[s].time),e=d["a"].addToDate(t,{minute:this.events[s].duration});for(let r=0;r<a.length;++r)if(a[r].time){const o=d["a"].parseTimestamp(a[r].date+" "+a[r].time),n=d["a"].addToDate(o,{minute:a[r].duration});if(d["a"].isBetweenDates(t,o,n)||d["a"].isBetweenDates(e,o,n)){a[r].side="left",this.events[s].side="right",a.push(this.events[s]),i=!0;break}}}i||(this.events[s].side=void 0,a.push(this.events[s]))}else if(this.events[s].days){const t=d["a"].parseTimestamp(this.events[s].date),r=d["a"].addToDate(t,{day:this.events[s].days});d["a"].isBetweenDates(e,t,r)&&(a.push(this.events[s]),i=!0)}}return a}}},m=f,y=a("2877"),j=a("9989"),w=a("65c6"),v=a("e7a9"),x=a("9c40"),k=a("58a81"),q=a("0016"),D=a("f09f"),C=a("a370"),W=a("eb85"),I=a("24e8"),Q=a("27f9"),_=a("7cbe"),M=a("52ee"),S=a("4b7e"),z=a("de5e"),T=a("7f67"),P=a("eebe"),L=a.n(P),E=Object(y["a"])(m,r,o,!1,null,null,null),O=E.exports;L()(E,"components",{QPage:j["a"],QToolbar:w["a"],QBtnGroup:v["a"],QBtn:x["a"],QBadge:k["a"],QIcon:q["a"],QCard:D["a"],QCardSection:C["a"],QSeparator:W["a"],QDialog:I["a"],QInput:Q["a"],QPopupProxy:_["a"],QDate:M["a"],QCardActions:S["a"],QPageSticky:z["a"]}),L()(E,"directives",{ClosePopup:T["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-sm"},[a("div",{staticStyle:{"max-width":"800px",width:"100%"}},[a("LineChart",{attrs:{chartdata:t.data}})],1),a("q-dialog",{attrs:{persistent:""},model:{value:t.promptWeight,callback:function(e){t.promptWeight=e},expression:"promptWeight"}},[a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("체중 입력")]),a("q-input",{attrs:{filled:"",label:"측정일자","input-class":"text-center"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-btn",{attrs:{icon:"event",round:"",color:"primary"}},[a("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"},on:{"before-show":t.updateProxy}},[a("q-date",{model:{value:t.proxyWeightdate,callback:function(e){t.proxyWeightdate=e},expression:"proxyWeightdate"}},[a("div",{staticClass:"row items-center justify-end q-gutter-sm"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"취소",color:"primary",flat:""}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"선택",color:"primary",flat:""},on:{click:t.save}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.weightdate,callback:function(e){t.weightdate=e},expression:"weightdate"}})],1),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{attrs:{filled:"","bottom-slots":"",label:"무게",type:"number",counter:"",maxlength:"3","input-class":"text-center"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"remove"},on:{click:t.weightMinus}})]},proxy:!0},{key:"append",fn:function(){return[a("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"add"},on:{click:t.weightAdd}})]},proxy:!0}]),model:{value:t.bodyWeight,callback:function(e){t.bodyWeight=e},expression:"bodyWeight"}})],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"취소"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"저장"},on:{click:t.saveUserInfo}})],1)],1)],1),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{fab:"",icon:"monitor_weight",color:"accent"},on:{click:function(e){t.promptWeight=!0}}})],1)],1)},$=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-sm"},[a("div",{staticStyle:{"max-width":"800px",width:"100%"}},[a("canvas",{attrs:{id:"line-chart"}})])])},B=[],F=a("30ef"),N=a.n(F),A={name:"LineChart",components:{},props:{chartdata:{type:Object,required:!0}},watch:{chartdata:function(t){t&&console.log("watch")}},data(){return{}},mounted(){this.createChart("line-chart")},methods:{createChart(t){const e=document.getElementById(t),a=new N.a(e,{type:this.chartdata.type,data:{labels:this.chartdata.data.labels,datasets:this.chartdata.data.datasets},options:this.chartdata.options});return a}}},G=A,J=Object(y["a"])(G,U,B,!1,null,null,null),R=J.exports;L()(J,"components",{QPage:j["a"]});var Z={name:"DietAnalysis",components:{LineChart:R},props:{diet:{type:Object,required:!0}},data(){return{weightdate:l["b"].formatDate(new Date,"YYYY/MM/DD"),proxyWeightdate:l["b"].formatDate(new Date,"YYYY/MM/DD"),promptWeight:!1,bodyWeight:50,userInfo:{},userWeight:[],weightList:[],valueData:[],data:{type:"line",data:{labels:["2021/03/31","2021/03/24"],datasets:[{data:[100,200],label:"내몸무게",borderColor:"#3e95cd",backgroundColor:"white",fill:!1,lineTension:.9}]},options:{legend:{display:!1},title:{display:!0,text:"최근 5건의 몸무게 변화"},responsive:!0}}}},beforeMount(){this.data.data.labels=this.diet.labelData,this.data.data.datasets[0].data=this.diet.valueData},watch:{weightList:function(t){console.log("watch"),t&&this.getChartData(this.weightList)}},beforeCreate:async function(){this.indexdb=new n["a"]("user-metadata","metadata");try{this.userInfo=await this.indexdb.get("userInfo")}catch(t){console.error("failed to qusry the userInfo",t)}"undefined"===typeof this.userInfo&&this.$router.push("/")},methods:{updateProxy(){this.proxyWeightdate=this.weightdate},save(){this.weightdate=this.proxyWeightdate},weightAdd(){this.bodyWeight=this.bodyWeight+1},weightMinus(){this.bodyWeight=this.bodyWeight-1},async saveUserInfo(){try{this.userWeight=await this.indexdb.get("userWeight")}catch(a){console.error("failed to qusry the userWeight",a)}const t={weightdate:this.weightdate,weight:this.bodyWeight,date:new Date},e=this.userWeight;e.push(t);try{this.indexdb.store("userWeight",e)}catch(a){console.error("failed to save the userweight",a)}console.log("weightArray",e),this.weightList=this.setWeight(this.sortByDate(this.arryUserWeight(e)).slice(-5)),this.data.options.title.text="테스트"},arryUserWeight(t){const e=[];for(var a=0;a<t.length;a++)e.push({weightdate:t[a].weightdate,weight:t[a].weight});return e},sortByDate(t){return t.sort(this.GetSortOrder("weightdate")).reverse(),t},setWeight(t){const e={data:t};return e},GetSortOrder(t){return function(e,a){return e[t]>a[t]?-1:e[t]<a[t]?1:0}},getChartData(t){let e={},a=[],s=[];e=t,e.data.forEach(((t,e)=>{a.push(t.weightdate),s.push(parseInt(t.weight))})),console.log("labelData : ",a),console.log("valueData : ",s),this.data.data.labels=a,this.data.data.datasets[0].data=s}}},H=Z,K=Object(y["a"])(H,Y,$,!1,null,null,null),V=K.exports;L()(K,"components",{QPage:j["a"],QDialog:I["a"],QCard:D["a"],QCardSection:C["a"],QInput:Q["a"],QBtn:x["a"],QPopupProxy:_["a"],QDate:M["a"],QCardActions:S["a"],QPageSticky:z["a"]}),L()(K,"directives",{ClosePopup:T["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-sm"},[a("div",{staticStyle:{"max-width":"800px",width:"100%"}},[a("LineChart",{attrs:{chartdata:t.data}})],1)])},tt=[],et={name:"Counselor",components:{LineChart:R},props:{diet:{type:Object,required:!0}},beforeMount(){this.data.data.labels=this.diet.labelData,this.data.data.datasets[0].data=this.diet.valueData,console.log("this.data.data.datasets[0].data",this.diet.valueData)},watch:{diet:function(t){t&&(this.data.data.labels=this.diet.labelData,this.data.data.datasets[0].data=this.diet.valueData)}},data(){return{data:{type:"line",data:{labels:["2021/03/31","2021/03/24"],datasets:[{data:[100,200],label:"내몸무게",borderColor:"#3e95cd",backgroundColor:"white",fill:!1,lineTension:.9}]},options:{legend:{display:!1},title:{display:!0,text:"최근 5건의 몸무게 변화"}}}}}},at=et,st=Object(y["a"])(at,X,tt,!1,null,null,null),it=st.exports;L()(st,"components",{QPage:j["a"]});var rt={components:{Diet:O,DietAnalysis:V,Counselor:it},data(){return{tab:"diary",userWeight:[],bodyWeightList:{},userInfo:{},chartData:{labelData:[],valueData:[]}}},beforeCreate(){this.indexdb=new n["a"]("user-metadata","metadata")},beforeMount(){console.log("before mount"),this.getUserWeight()},methods:{sortByDate(t){return t.sort(this.GetSortOrder("weightdate")).reverse(),t},setWeight(t){console.log("sort weight",t),this.bodyWeightList={data:t}},GetSortOrder(t){return function(e,a){return e[t]>a[t]?-1:e[t]<a[t]?1:0}},arryUserWeight(t){const e=[];for(var a=0;a<t.length;a++)e.push({weightdate:t[a].weightdate,weight:t[a].weight});return e},getUserWeight(){this.indexdb.get("userWeight").then((t=>{this.userWeight=t,console.log(t.length),this.setWeight(this.sortByDate(this.arryUserWeight(t)).slice(-5)),this.getChartData()})).catch((t=>{console.log("error",t)})).finally((()=>{this.$root.$emit("onAPILoadingEnd")}));try{this.userInfo=this.indexdb.get("userInfo")}catch(t){console.error("failed to qusry the userInfo",t)}"undefined"===typeof this.userInfo&&this.$router.push("/")},getChartData(){let t={},e=[],a=[];t=this.bodyWeightList,console.log("json : ",t),console.log("this.bodyWeightList : ",this.bodyWeightList),t.data.forEach(((t,s)=>{e.push(t.weightdate),a.push(parseInt(t.weight))})),this.chartData.labelData=e,this.chartData.valueData=a}}},ot=rt,nt=a("429b"),lt=a("7460"),dt=a("adad"),ct=a("823b"),ht=Object(y["a"])(ot,s,i,!1,null,null,null);e["default"]=ht.exports;L()(ht,"components",{QTabs:nt["a"],QTab:lt["a"],QTabPanels:dt["a"],QTabPanel:ct["a"]})}}]);